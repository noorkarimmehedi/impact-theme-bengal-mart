{% doc %}
  @prompt
    generate a horizontal like divider 
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-horizontal-divider-{{ ai_gen_id }} {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: {{ block.settings.spacing_top }}px 0 {{ block.settings.spacing_bottom }}px;
  }

  .ai-horizontal-divider-line-{{ ai_gen_id }} {
    width: {{ block.settings.divider_width }}%;
    height: {{ block.settings.divider_thickness }}px;
    background-color: {{ block.settings.divider_color }};
    border-radius: {{ block.settings.divider_border_radius }}px;
    opacity: {{ block.settings.divider_opacity | divided_by: 100.0 }};
  }

  .ai-horizontal-divider-gradient-{{ ai_gen_id }} {
    background: linear-gradient(
      to right,
      transparent 0%,
      {{ block.settings.divider_color }} 50%,
      transparent 100%
    );
  }

  .ai-horizontal-divider-dashed-{{ ai_gen_id }} {
    border-top: {{ block.settings.divider_thickness }}px dashed {{ block.settings.divider_color }};
    background: none;
    height: 0;
  }

  .ai-horizontal-divider-dotted-{{ ai_gen_id }} {
    border-top: {{ block.settings.divider_thickness }}px dotted {{ block.settings.divider_color }};
    background: none;
    height: 0;
  }

  {% if block.settings.divider_style == 'double' %}
    .ai-horizontal-divider-line-{{ ai_gen_id }} {
      position: relative;
    }

    .ai-horizontal-divider-line-{{ ai_gen_id }}::after {
      content: '';
      position: absolute;
      top: {{ block.settings.divider_thickness | times: 2 | plus: 4 }}px;
      left: 0;
      width: 100%;
      height: {{ block.settings.divider_thickness }}px;
      background-color: {{ block.settings.divider_color }};
      border-radius: {{ block.settings.divider_border_radius }}px;
      opacity: {{ block.settings.divider_opacity | divided_by: 100.0 }};
    }
  {% endif %}

  @media screen and (max-width: 749px) {
    .ai-horizontal-divider-{{ ai_gen_id }} {
      padding: {{ block.settings.spacing_top | times: 0.7 | round }}px 0 {{ block.settings.spacing_bottom | times: 0.7 | round }}px;
    }

    .ai-horizontal-divider-line-{{ ai_gen_id }} {
      width: {{ block.settings.divider_width_mobile }}%;
    }
  }
{% endstyle %}

<div
  class="ai-horizontal-divider-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  <div
    class="ai-horizontal-divider-line-{{ ai_gen_id }}
    {% if block.settings.divider_style == 'gradient' %}ai-horizontal-divider-gradient-{{ ai_gen_id }}{% endif %}
    {% if block.settings.divider_style == 'dashed' %}ai-horizontal-divider-dashed-{{ ai_gen_id }}{% endif %}
    {% if block.settings.divider_style == 'dotted' %}ai-horizontal-divider-dotted-{{ ai_gen_id }}{% endif %}"
  ></div>
</div>

{% schema %}
{
  "name": "Horizontal divider",
  "settings": [
    {
      "type": "header",
      "content": "Divider style"
    },
    {
      "type": "select",
      "id": "divider_style",
      "label": "Style",
      "options": [
        {
          "value": "solid",
          "label": "Solid"
        },
        {
          "value": "gradient",
          "label": "Gradient fade"
        },
        {
          "value": "dashed",
          "label": "Dashed"
        },
        {
          "value": "dotted",
          "label": "Dotted"
        },
        {
          "value": "double",
          "label": "Double line"
        }
      ],
      "default": "solid"
    },
    {
      "type": "color",
      "id": "divider_color",
      "label": "Color",
      "default": "#e0e0e0"
    },
    {
      "type": "range",
      "id": "divider_thickness",
      "min": 1,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Thickness",
      "default": 1
    },
    {
      "type": "range",
      "id": "divider_opacity",
      "min": 10,
      "max": 100,
      "step": 10,
      "unit": "%",
      "label": "Opacity",
      "default": 100
    },
    {
      "type": "range",
      "id": "divider_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Corner radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Width"
    },
    {
      "type": "range",
      "id": "divider_width",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Width on desktop",
      "default": 100
    },
    {
      "type": "range",
      "id": "divider_width_mobile",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Width on mobile",
      "default": 90
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "spacing_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Top spacing",
      "default": 30
    },
    {
      "type": "range",
      "id": "spacing_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "Horizontal divider"
    }
  ]
}
{% endschema %}